# W&B sweep config (OFFLINE) for HAM10000 fine-tuning
method: bayes
metric:
  name: val/f1_macro
  goal: maximize

parameters:
  train.lr:
    min: 1e-5
    max: 5e-4
  train.weight_decay:
    values: [0.0, 0.01, 0.05]
  train.label_smoothing:
    values: [0.0, 0.05, 0.1]
  train.batch_size:
    values: [16, 32, 64]
  train.warmup_ratio:
    values: [0.0, 0.03, 0.05, 0.1]
  model.blip2.dropout:
    values: [0.0, 0.1, 0.2]
  data.img_size:
    values: [224, 336]

command:
  - ${env}
  - python
  - src/run.py
  - -c
  - configs/ham10000_finetune.yaml
  - --mode
  - train_multiclass
  - --override
  - ${args}
